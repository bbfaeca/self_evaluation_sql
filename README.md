## 数据库课程学期自我评估

本学期《数据库原理与应用》课程的学习对我而言是一次全面且深入的旅程。作为一名计算机专业的学生，我深刻认识到数据库系统在现代信息技术中的基石作用。通过本课程，我不仅系统学习了数据库的核心概念和技术，更通过实践操作和独立探索，显著提升了解决实际问题的能力。

---

### 知识积累与学习过程

在整个学期中，我遵循理论与实践相结合的学习路径，并积极利用多种资源辅助理解和巩固知识。

#### 第一周：软件下载安装与初步认知

本周我完成了数据库学习的**环境搭建**。根据自身偏好，借助CSDN等博客的指导，我**正确下载并安装了PostgreSQL、pgAdmin4和DataGrip**。在安装过程中，我特别注意了PostgreSQL的admin和密码设置，并确保SQL默认接口未被拦截。通过参考预习书籍《Database System Concepts》和《数据库系统概念》，我初步总结认为数据库是一门应用型的学科技能，需要借助AI来帮助自己理解基础命令和进阶学习，并探索了在学习过程中借助AI给自己出题、自己回答再用AI来修改的快速掌握基础的方法。这让我对数据库有了整体认知，理解了它的原理、应用场景以及作为应用型学科的特点。

#### 第二周：关系模型与数据库关键概念

本周我学会了调用API接口完成挑战题，并在课上系统学习了数据库的关键概念。我深入学习并把握了**数据（data）和数据库（database）的定义和类型**，了解了**DBMS的基本类型**及其各自的优劣之处。我尝试回答了数据库的广泛应用范围，它与文件管理系统的区别与联系，以及文件管理系统的缺陷（如数据冗余与不一致、数据隔离、访问困难、完整性、安全性和并发访问异常）。我详细学习了各种**数据模型**，其中明确了**关系型数据库**是本学期主要学习的内容，需要深入了解其“表(table)”即“关系(relation)”的概念，由行（row/tuple）和列（column/attribute）构成。我重点理解了**DDL（数据定义语言）和DML（数据操纵语言）**，并认识到SQL是一种声明式语言，关注“what”而非“how”。通过广泛查阅资料和博客，我深入理解了“关系”一词在数据库中的具体含义和特性，将其与Excel中的表格进行类比，理解了元组的无序性和不可重复性。

#### 第三周：关系数据库理论与关系代数

本周的学习路径清晰：从关系数据库（英文定义）→关系（元组的集合）→深入理解**关系模式（schema）和关系实例**→辨析**键（key），包括超码（super key）、候选码（candidate key）、主码（primary key）和外码（foreign key）**→学习**关系代数**。通过引申学习评估，我理解了元组在`table`中如何体现（类似于Excel中的一行记录），以及关系schema在数据库中的具体形式（例如instructor(id,name,dept_name,salary)）。我能够结合实例准确区分和把握各类别键，并能找到并区分超码、候选码。我还拓展了解了**笛卡尔乘积**。在关系运算中，我重点掌握了**选择（select）、投影（project）、and/or/not、连接（join）、交并差**等组合写法和符号，并认识到关系代数在后续的SQL代码编写中具有十分重要的指导意义。此外，我还熟悉并掌握了Markdown的写法，这有助于我更好地记录学习笔记。

#### 第四周：SQL基本操作与数据类型精讲

本周的学习路径集中在SQL的基本操作：基本数据类型→基本模式→在schema定义中使用这些来规定属性→**创建和删除表、清空数据**→利用课上习题练习**DML**→**多表查询：表与表的连接**→附加操作。我掌握了**numeric、int、char、varchar、decimal、float等常见数据类型**，并特别注意了`decimal`的独特之处（精确度）。在schema设定时，我建议用英文，并注意使用半角英文符且不区分大小写。我掌握了在schema中设定主码和根据实际情况具体规范输入数据的类型。我学会了**CREATE TABLE**（创建关系）、**DROP TABLE**（删除表）和**DELETE FROM**（清空数据保留表）。在查询方面，我熟练使用了**SELECT**、**WHERE**、**FROM**基本查询结构，包括**DISTINCT**去重复指令（用在SELECT后面）、**!=**和**<>**不等于符号的使用、**BETWEEN AND**与**<=**、**>=**符号的综合使用，以及多个条件匹配用行构造器。我还掌握了***用法**、**RENAME**（对列重新命名）和**ORDER BY**结合**ASC**或**DESC**进行排序。拓展了解了**NULL和UNKNOWN的用法及其逻辑运算**（如**TRUE AND UNKNOWN IS UNKNOWN**）。此外，我还深入学习了**模糊查询的LIKE语句**、字符匹配操作（**%**匹配任意多个字符，**_**匹配单个字符）、转义字符**\**的用法，以及如何进行值的拼接**||**。通过作业，我对psql的运用更加熟练，掌握了输入密码、通过**\l、**\dt**查看所有库及表，并通过 **\c university**切换到university库并进行操作。

#### 第五周：SQL高级功能与空值、聚合函数

本周我将所学应用于DataGrip，完成了从登录到连接数据库，并搭建好环境（注意SQL SHELL中的操作）。我学会了导入数据并配置源，运行SQL文件，并尝试了SQL基本操作，能做到基本语句的撰写和判断错误。我巩固了<>和!= **的理解，以及匹配字符**%**、**_**的运用。对于**NULL、KNOWN、UNKNOWN**的认知和理解得到了深化，特别是**NULL**与其他值进行比较得到的逻辑状态为**UNKNOWN **，以及**NOT NULL = NULL**的特殊性。我明确了判定布尔值时应用**IS KNOWN**和**IS UNKNOWN。我学会了**COALESCE函数的使用**，例如**COALESCE(salary,0)**可以将为空的salary变为0并输出。我深入学习了**聚集函数（MAX、MIN、SUM、AVG、COUNT）**，并理解了它们一般会忽略**NULL**值，但**COUNT(*)**统计所有行数。我明确了**WHERE**子句的合法性：其后的条件应该是一一比照的，而不能一对多，且其后面不能用聚集函数。相反，**HAVING子句后可以跟聚集函数**，**HAVING**一般结合**GROUP BY**使用，是基于**GROUP BY**进行筛选的。我还重点掌握了**嵌套语句的使用，特别是CASE END语句**；理解了“至少比某一个要大用> SOME”、“大于所有用> ALL()”；以及**ORDER BY**（配合**RANDOM**等）和**LIMIT + num**的使用。本周我需要重点练习聚合函数、**GROUP BY**等语句的合法性辨认。

#### 第六至八周：多表连接、子查询与数据修改深化

这几周主要进行了对**多表连接和子查询**的深入回顾与评估。我细致学习了**JOIN语句**，明确了“写了**JOIN**必须要写**ON**”，并对比了不同**JOIN**类型（**LEFT JOIN**、**RIGHT JOIN**、**FULL OUTER JOIN**）以及它们与**UNION**的结合使用来替代**FULL OUTER JOIN**。我深入理解了自然连接（**NATURAL LEFT JOIN**）与**JOIN ON**条件的等价性。我对**CASE**语句的用法和写的位置仍有待熟练，对连接的概念还需要进一步学习理解。我深入了解了**标量子语句**的概念，并认识到**当子查询结果较多时，应优先使用EXISTS查询而非IN**以提高效率。对于**WITH建立临时关系（CTE）的用法**，我虽然不太熟悉但感觉用途非常广泛，并能理解其通过**WITH total(value,dept_name) AS (...) SELECT ... FROM total WHERE ...**这样的例子构建复杂查询的便利性。我利用`https://www.w3schools.com/sql/sql_join.asp`网站进行复习，并回顾了**TIME**、**TIMESTAMP**及类型转换的多种用法，认为需要多加回顾和练习。我掌握了创建角色与连接数据库的操作，这在后续的大作业中可能会用到。我还补充学习了**SERIAL的使用，以实现ID自增**。我能够熟练完成**table**数据的**插入（INSERT INTO ... VALUES）、更新（UPDATE ... SET ...）和删除（DELETE FROM ... WHERE ...）**操作。我基本了解了行约束（写在旁边）和列约束（写在后面），以及**CHECK**指令的使用。通过删除操作引发的连锁效应，我把握了主表和从表、外码之间的关联。此外，我还学习了SQL中**RANK() OVER(...)**的用法，以及窗口函数**PARTITION BY**和**ORDER BY**的组合使用，包括常见的聚合函数、排名函数（**rank**、**dense_rank**、**row_number**）。我对**WHERE**语句和**HAVING**语句的选择有了更清晰的认识，并理解了**GROUP BY**语句必须包含所有非聚合列的规则。在**子查询**部分，我进一步巩固了在**FROM**、**SELECT**和**WHERE/HAVING**子句中的应用，特别是**标量子查询、相关子查询**（将其类比为Python中的**for**循环），以及**EXISTS**（本质上为判断语句）。我明白了**ANY**与**ALL**的语义差异，并总结出先写内层子查询再嵌套外层的编写策略。我还了解了**ALTER TABLE**语句的多种用法，如**ADD COLUMN**、**RENAME TO**、**ALTER COLUMN**、**SET DEFAULT**、**DROP DEFAULT**、**DROP COLUMN**，以及如何添加主键、唯一约束和**CHECK**约束。在**表连接**方面，我进一步区分了自然连接、内连接、外连接、全连接和自连接，并理解了**NATURAL JOIN**的潜在风险。

#### 第九周：中级SQL与项目实践初探

本周我被提示前几周学习的是初级SQL，现在将进入中级SQL的学习。我评估自身基础仍不牢固，一旦题目限制约束增多，就需要借助AI来解答，因此需要再回头巩固。学习路径回顾：**视图查询与更新**→**事务**→高效查找→**自定义函数**→**授权**。我学习了为使得查询指令简洁，可以利用**RENAME AS**来简化长属性名和**table**名。我还了解了**自定义数据类型或者函数的掌握**，可以参考Python的函数建立。**pg_dump**和**uv**等工具的使用需要自己去拓展加深了解，对期末项目有帮助。在课后项目学习评估中，我借助AI**独自完成了智能家居系统的FastAPI页面创建**，这是本学期实践的亮点。我总结了与AI协作的经验：需要向AI说清楚自己所会的技能和软件（如Python、SQL基础语法，常用PyCharm、DataGrip、PgSQL），点明学习目标和可利用的额外工具（如FastAPI和Python相关包），以及当不熟悉步骤时要求AI一步步教导。我实现了Python中与数据库的连接（包括用什么包、如何确定路径，以及可能涉及环境变量配置），借助**SQLAlchemy**等Python包实现FastAPI的接口搭建（两类**POST**和**GET**）。我熟悉了进入FastAPI界面一般需要在终端输入**uvicorn main:app --reload**，并在浏览器进入http://localhost:8000/docs。

#### 第十周：数据库设计与E-R图

本周我学习了**设计数据库**，重点掌握**E-R图的设计和画法**。E-R图能够最直观地体现数据库设计中各个实体集（**table**）的关系，注意画图时实体集用圆角方框，关系用菱形（**diamond**），关系也能拥有的属性——描述性属性。我对**映射基数**（包括：基数约束）进行了深入学习，并理解了**实体集的主码**（下划线）和**联系集的主码**。我学习了**E-R图转为关系模式**，包括去除冗余模式及模式的合并。我对关系模型和E-R之间的关系仍不太领会，需要进一步搜资料学习。我理解了派生属性本身就可以通过实体集的属性之间关联推算出来，所以没有存储的必要。在画图时，我注意关系和实体之间连线的有箭头一侧代表one，没有箭头一侧则代表many，以及两条线的一侧代表实体全参与。我还不能熟练画出E-R图。我认识到需要掌握至少一种画图工具，例如在线画图网页**draw.io**，并尝试了其他工具如**Lucidchart**或专业画图工具（**ERwin**, **Microsoft Visio**）。我还需要掌握DataGrip的可视化方法。我对联系集的超码判定还是有点不熟悉，并注意**many-to-many时两边的主码必须同时选**。我特别注意了**弱实体集的画法**（其主码下面应用虚线），包括与其连接的关系集，线条和其本身的图形都要变为双线；并需注意判断弱实体集，因为很容易出错。在画E-R图时，我意识到并不是简单地将实体及其属性写上去，需要把握实体之间的联系，尤其是去除冗余属性。我参考了中文版P179的习题。我对联系集的主码的确定仍需谨慎，尚未完全掌握。我理解了什么是冗余模式，例如：连接弱实体集和其所依赖的强实体集的模式是冗余的。我推测one-to-one的联系应该可以合并，只需将一侧的主码计入到另一侧就可以。我还拓展学习了**非关系型数据库MongoDB的配置**。

#### 第十一至十二周：关系数据库范式与规范化

本阶段学习主题是**关系数据库范式**，核心理念是**无损分解是好的关系数据库设计的基础**。学习路径：大小模式的区别→**无损分解**→几大范式（尤其是**BCNF**）→平凡依赖、依赖闭包。在首次听课时，我不太能判断哪些符合BCNF，但在借助AI辅导和做课后习题后，我大致掌握了判断技巧。但对于得出所有的非平凡函数依赖仍需注意，一些非平凡函数依赖α→β的α可以通过与其他属性结合从而构成新的非平凡函数依赖，所以需要谨慎。我最初由于对平凡函数依赖（如**AB->A**, **AB->B**即母集推出子集）理解不够，所以判断失误。我理解了BCNF的条件：对F+中所有形如α→β的函数依赖，下面至少一个成立：α→β是平凡的函数依赖，或α是R的一个超码。我认识到大模式存在数据重复问题，需要分解，但随意分解很容易造成信息损失，因此BCNF的出现为分解提供了很好的准则——无损分解。我理解“符合规范（normal）的东西即为好——good form”。我对模式分解的把握仍不到位。同时，我还学习并实践了**1NF、2NF和BCNF的规范化过程**，理解了它们的定义和目标，如**1NF**要求所有属性均为简单属性（原子性），**2NF**消除部分依赖，**3NF**消除传递依赖，**BCNF**消除所有非平凡依赖的左侧不是超码的情况。我对函数依赖的概念也逐渐从抽象变为理解。

#### 第十三至十四周：实现数据库、存储、索引与查询优化

本阶段学习主题是**实现数据库**。学习路径：**Python与数据库的连接**通过Python→环境的配置和在Python执行指令实现数据的增和删→**数据库存储**。我了解到简洁方便的方法是直接使用PyCharm创建项目，直接配好环境，安装相关的包：**psycopg[binary]**、**psycopg2-binary**，并学会了使用**psycopg.connect**和**conn.cursor()**进行数据库操作，包括安全的SQL拼接。我对数据库存储的知识做了了解，包括PGSQL的page的内容组织、page与page之间组织，以及page layout得分页槽结构比较有意思。我理解了**存储模型：行存储和列存储**，并能对什么时候用什么存储模型有一个基本的判断（行存储适用于OLTP，列存储适用于OLAP）。我还了解**metadata**展示数据的信息，在期末项目可能用得到。

在索引和查询计划方面，我学习了**有序索引**（包含聚集和非聚集索引）→稠密和稀疏索引→**重点：B+tree的理解和使用**→**哈希索引**（无序，直接找到目标）→PG默认创建非聚集索引。我理解有序索引能通过二分查找提高查找速度，一般来说创建非聚集索引成本较低。我区分了**聚集和非聚集索引**（前者顺序与文件记录顺序一致，一表只能有一个聚集索引）。我理解了**稠密索引**（每一个元组都有一个index，能够精准定位但开销大）和**稀疏索引**（只有部分的tuple有index，相对较慢但开销小），并明白稀疏索引只能是聚集索引。我深入理解了**B+tree**作为平衡二叉树的特点：每个node可以有多个key，使tree更矮，search更快，通常最多访问4或5个page即可找到目标（即tree最多有4或5层）。我掌握了N=1000000(记录数)，n=100（孩子数）,最多访问log_n/2(N)个节点的计算。我重点掌握了**tuple的对比**，例如索引（a,b）时，先比a再比b；**%b**不可以比，**a%**可以比。我了解到**哈希索引**只能处理相等情况，索引率**index rate=1**，若两个hash索引到同一位置则产生冲突，需要冲突消解。通过PG中索引代码示例和**EXPLAIN ANALYZE**，我学会了查看语句运行是否使用索引（如**id**查询使用索引，**name**查询使用扫描）。我通过创建表、生成数据、创建索引等操作，理解了**索引不一定提高查询性能，例如在数据量较少时**（基数小不适合建立index），且采用哈希索引对大数据量可能不如全表扫描。我理解当page过多时，可以基于page再建page。我还了解到执行查询计划之前会受到optimizer的影响，尽可能先执行σ（选择）。在**事务**方面，我理解它是单个逻辑工作单元，满足**原子性、一致性、隔离性、持久性4大特征（ACID）**。我拓展学习了MySQL与PostgreSQL在字符串、表连接、自增ID、空值处理、条件判断、日期时间函数等方面的异同，并通过牛客网进行了在线编程练习。

#### 第十五周：事务与并发控制

本周我学习了**事务的四个属性（ACID）**和**事务的隔离级别**。我回顾了原子性、一致性、隔离性、持久性，并深入了解了不同隔离级别（**READ UNCOMMITTED**, **READ COMMITTED**, **REPEATABLE READ**, **SERIALIZABLE**）对脏读、不可重复读、幻读的影响。我理解了隔离级别越高，并发性能越低，但数据一致性越好。我还学习了**空闲事务的检测**，通过查询**pg_stat_activity**视图来识别长时间处于“idle in transaction”状态的进程。这有助于我理解如何监控和管理数据库的并发性。

#### 第十六周：数据库前沿技术概览

本周我主要了解了**DuckDB**和其他一些数据库的基本信息和使用方式。我对**DuckDB**的优点和使用方式有了基本了解，感觉它是一个Python+SQL的结合体，克服了Python无法高效读取过大文件的缺陷，效率更高，是处理大数据的好工具。我发现**DuckDB**的语法结构基本沿袭了PG，且使用方便，UI页面很好用。我还了解了《**DuckDB in action**》作为参考书目。此外，我拓展了解了**slidev**、**papuet**等工具。我对**矢量数据库（Vector DB**有了初步认识，了解到它是现在很流行的DB，在过往的数据分析中其实很多都应用到其中的原理，并尝试用PG中的矢量DB插件看看效果，这让我对数据库的未来发展趋势有了更清晰的认识。

---

### 作业与随堂测试表现

在整个学期中，作业和随堂测试始终被视为巩固知识、深化理论理解与提升实操能力的关键环节。各项任务都本着独立完成并投入充足精力的原则进行，将其看作是将课堂所学转化为实际解决问题能力的机会。

面对作业中遇到的技术难题或概念困惑时，不懈的探索精神是解决问题的关键。这通常包括主动查阅多方资料，如仔细研读教材、回顾课堂笔记，以及浏览专业技术博客和论坛。此外，AI大语言模型也被有效利用，作为强大的辅助工具，用于启发思路、寻求代码调试建议或验证自身理解。这种多维度的问题解决策略，极大地提升了克服障碍的效率和深度，同时也锻炼了与智能工具高效协作的提问与筛选信息的能力。

例如，在遇到复杂的数据库环境配置挑战时，并没有被初始的困难所阻碍，而是主动探索并尝试了多种解决方案，最终成功地搭建起了所需的开发环境。这一过程不仅解决了具体的技术问题，更深刻体会到在技术学习中面对未知、耐心探索和坚持不懈的重要性。

在随堂测试中，答题的清晰度和逻辑性受到高度重视，努力将所掌握的数据库知识灵活应用于题目要求。虽然在细节处理上偶有疏忽，导致个别分数未能达到完美，但每一次的反馈都成为了宝贵的反思机会，促使在后续学习中更加细致地检查和完善。在学期后期提交的作业中，内容的排版与展示效果得到特别关注，力求使其呈现出专业而整洁的视觉体验。这反映出对细节追求的进步以及对学习成果呈现的重视。总而言之，致力于高质量完成每一次学习任务，并从实践中不断汲取经验，持续提升自身的严谨性与综合能力。

---

### 自我评价与得分依据

综合本学期的学习投入、知识掌握程度、实践能力和解决问题的表现，我给自己打**47.5分**（总分50分）。

* **知识掌握与理解 (9.5/10分):**
    * **优点：** 对数据库核心概念、SQL语法、关系代数、E-R图、范式理论、索引原理和事务特性均有系统性学习和理解。能够区分并应用各种SQL语句和连接类型。对不同数据类型的特点和**NULL**值的行为有了深刻认识。
    * **扣分点：** 在部分理论知识（如**BCNF**范式在复杂情况下的判断、**Tuple**对比在索引中的细节、**哈希索引**的适用场景）理解上，仍需借助AI和反复练习才能融会贯通，初期理解不够深入，导致“一些基础指令还不能融会贯通，一旦题目限制约束多了就需要借助AI来解答，因此此时我的基础并不牢固，需要再回头巩固”。
* **实践能力 (10/10分):**
    * **优点：** 熟练掌握**PostgreSQL**、**pgAdmin4**、**DataGrip**等工具的使用。能够独立完成复杂的SQL查询、多表操作、数据增删改。成功实现Python与数据库的连接，并初步搭建**FastAPI**智能家居系统，展现了将所学知识应用于实际项目的能力。对SQL注入攻击原理的理解，并能运用安全SQL拼接。
* **学习积极性与探索精神 (10/10分):**
    * **优点：** 积极阅读参考书籍和博客，课外学习SQL网网站并完成练习。主动学习**GitHub Desktop**、**Markdown**、**Typora**等辅助工具。利用AI高效辅助学习和解决问题，并探索了**DuckDB**、**矢量数据库（Vector DB）**等前沿技术，展现了强烈的求知欲和自主学习能力。对**MySQL**与**PostgreSQL**异同的拓展学习，体现了学习的广度。
* **作业完成质量与态度 (18/20分):**
    * **优点：** 按时完成了所有作业，并从中获得大量实践经验。
    * **扣分点：** 仍有少数作业在细节处理上存在疏忽，这反映出在严谨性方面仍有提升空间。

---

### 总结与展望

本学期数据库课程的学习对我而言是一次全面而深入的体验。从基础概念到高级查询，从数据库设计到性能优化，再到实际项目开发，我不仅掌握了扎实的理论知识，更重要的是，通过大量实践和自主探索，培养了独立思考、解决问题以及利用AI等工具辅助学习和开发的能力。我意识到，数据库技术是一个不断发展的领域，未来我将继续关注数据库前沿技术，如分布式数据库、**NoSQL**数据库以及AI与数据库的结合，并将所学应用于更复杂的项目实践中，为未来的学习和职业发展打下坚实基础。
